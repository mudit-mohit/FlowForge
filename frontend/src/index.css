body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

:root{
  --bg:#0f1720;
  --panel:#0f1728;
  --card:#111827;
  --muted:#94a3b8;
  --accent:#7c3aed;
  --accent-2:#06b6d4;
  --surface:#0b1220;
  --glass: rgba(255,255,255,0.04);
}

html,body,#root{
  height:100%;
  background: linear-gradient(180deg,var(--bg), #071025 120%);
  color: #e6eef8;
}

.app-shell{
  display:flex;
  height:100%;
}

.app-header{
  height:56px;
  display:flex;
  align-items:center;
  justify-content:space-between;
  padding:12px 18px;
  border-bottom: 1px solid rgba(255,255,255,0.03);
}
.app-header__title{ font-size:16px; font-weight:800; }
.app-header__hint{ color:var(--muted); font-size:13px }

.btn{ padding:8px 14px; border-radius:8px; border:none; cursor:pointer; font-weight:700 }
.btn-primary{ background: linear-gradient(90deg,var(--accent), var(--accent-2)); color:white; box-shadow: 0 6px 18px rgba(124,58,237,0.18); }

/* base node hover */
.base-node{ transition: transform .14s ease, box-shadow .14s ease }
.base-node:hover{ transform: translateY(-4px); box-shadow: 0 18px 30px rgba(2,6,23,0.7) }

/* make react-flow controls/minimap blend with theme */
.react-flow__controls{ background: rgba(255,255,255,0.02); border-radius:8px }
.react-flow__minimap{ border-radius:8px; box-shadow: 0 6px 14px rgba(2,6,23,0.5) }

.toolbar{
  width:220px;
  padding:16px;
  box-sizing:border-box;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  border-right: 1px solid rgba(255,255,255,0.03);
  display:flex;
  flex-direction:column;
  gap:12px;
  position:relative;
  transition: width .18s ease;
  overflow:visible;
}

.toolbar--collapsed{
  width:56px;
  padding:8px;
  overflow:visible;
}

.toolbar__header{
  display:flex;
  align-items:center;
  justify-content:space-between;
}
.toolbar__title{
  font-weight:700;
  color:#fff;
}
.toolbar__toggle{
  background:transparent;
  border:none;
  color:var(--muted);
  cursor:pointer;
  font-size:14px;
  padding:6px;
  border-radius:6px;
  transition: background .12s;
}
.toolbar__toggle:hover{ background: rgba(255,255,255,0.02) }

.toolbar--collapsed .toolbar__toggle{
  position: absolute;
  top: 8px;
  right: 8px;
}

.toolbar__group{
  display:flex;
  flex-wrap:wrap;
  gap:10px;
}

.toolbar-item{
  width:100%;
  height:48px;
  display:flex;
  align-items:center;
  justify-content:flex-start;
  gap:8px;
  border-radius:8px;
  background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.04);
  cursor:grab;
  box-shadow: 0 4px 10px rgba(2,6,23,0.6);
  padding: 8px 10px;
  box-sizing: border-box;
}

.toolbar-item:active{cursor:grabbing}

.toolbar-item__icon{ width:28px; text-align:center }
.toolbar-item__label{
  font-size:13px;
  font-weight:600;
  color:var(--muted);
  white-space:nowrap;
  overflow:hidden;
  text-overflow:ellipsis;
}

/* When collapsed, hide groups and labels, show compact icons */
.toolbar--collapsed .toolbar__group{ display:none }
.toolbar--collapsed .toolbar__title{ display:none }
.toolbar--collapsed .toolbar-item{ width:40px; height:40px; justify-content:center; padding:6px }
.toolbar--collapsed .toolbar-item__label{ display:none }

.toolbar-item__icon{ margin-right:8px }

.content{
  flex:1;
  display:flex;
  flex-direction:column;
}

.canvas-wrapper{
  flex:1;
  padding:18px;
  box-sizing:border-box;
}

.base-node{
  width:220px;
  min-height:84px;
  padding:10px;
  border-radius:10px;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.06);
  color: #e6eef8;
  box-shadow: 0 10px 18px rgba(2,6,23,0.6);
  font-size:13px;
}

.base-node__title{
  font-weight:700;
  margin-bottom:8px;
  color:#fff;
}

.base-node__fields{display:flex;flex-direction:column;gap:6px}

.base-node__label{display:flex;flex-direction:column}
.base-node__label-text{font-size:11px;color:var(--muted);margin-bottom:4px}
.base-node__input{
  padding:6px 8px;
  border-radius:6px;
  border:1px solid rgba(255,255,255,0.04);
  background: rgba(255,255,255,0.02);
  color: #e6eef8;
}

/* Use a light select style so native dropdowns show readable dark text on Windows */
.base-node__select{
  padding:6px 8px;
  border-radius:6px;
  border:1px solid rgba(0,0,0,0.08);
  background: #ffffff;
  color: #0b1220;
}
.base-node__select option{
  background: #ffffff;
  color: #0b1220;
}
.base-node__select option:checked,
.base-node__select option:focus{
  background: #e6eef8;
}

.base-node__textarea{
  padding:8px 10px;
  border-radius:8px;
  border:1px solid rgba(255,255,255,0.04);
  background: rgba(255,255,255,0.02);
  color: #e6eef8;
  width:100%;
  min-height:42px;
  box-sizing: border-box;
  resize:none;
  font-family: inherit;
}

/* improve placeholder visibility */
.base-node__input::placeholder,
.base-node__textarea::placeholder{
  color: rgba(230,238,248,0.6);
}

.react-flow__node-default{  }

/* Toast styles */
.toast-container{
  position: fixed;
  top: 20px;
  left: 50%;
  transform: translateX(-50%);
  display:flex;
  flex-direction:column;
  gap:10px;
  align-items:center;
  z-index: 9999;
  pointer-events: none; 
}
.toast{
  min-width:260px;
  max-width:760px;
  width: min(90vw, 640px);
  background: rgba(10,12,18,0.98);
  color: #e6eef8;
  padding: 12px 14px;
  border-radius: 10px;
  box-shadow: 0 12px 30px rgba(2,6,23,0.6);
  display:flex;
  align-items:flex-start;
  gap:12px;
  pointer-events: auto;
}
.toast__body{ flex:1 }
.toast__title{ font-weight:800; margin-bottom:4px }
.toast__message{ color: var(--muted); font-size:13px }
.toast__close{ background:transparent; border:none; color:var(--muted); cursor:pointer; font-size:14px }
.toast--success{ border-left: 4px solid #21c997 }
.toast--error{ border-left: 4px solid #ff6b6b }
.toast--info{ border-left: 4px solid #7c3aed }

